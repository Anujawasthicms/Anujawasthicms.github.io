<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sustainability Meter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            line-height: 1.6;
        }
        .question {
            margin-bottom: 20px;
        }
        .score {
            margin-left: 10px;
        }
        .button-container {
            margin-top: 20px;
        }
        .button {
            background-color: green;
            color: white; 
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            margin-right: 10px;
        }
        .button:hover {
            background-color: darkgreen;
        }
        .level {
            font-weight: bold;
            margin-top: 20px;
        }
        .slider-container {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        .slider-label {
            margin-right: 10px;
        }
        #result {
            margin-top: 30px;
        }
    </style>
</head>
<body>

    <h1>Your Sustainability Meter</h1>
    <p>This is a tool to help you understand your sustainable habits based on a self-scoring system.</p>

    <h3>Score Scale: 0 = 0% adoption, 5 = 100% adoption of sustainable practices</h3>

    <div id="questions-container">
        <!-- Questions will be injected here by JavaScript -->
    </div>

    <div class="button-container">
        <button class="button" onclick="calculateScore()">Calculate Score</button>
        <button class="button" style="background-color: orange;" onclick="rerun()">Rerun</button>
    </div>

    <div id="result" style="display:none;">
        <h2>Your Sustainability Score: <span id="total-score"></span>/35</h2>
        <p id="level"></p>
        <p class="summary">Summary: This tool helps you identify your current level of sustainability and inspires you to take actions for improvement.</p>
    </div>

    <script>
        const questions = [
            "How often do you use sustainable transportation?",
            "How often do you reduce meat and eat sustainably?",
            "How often do you use reusable materials?",
            "How often do you adopt sustainable consumption habits?",
            "How often do you conserve water?",
            "How often do you practice proper waste management?",
            "How often do you use energy-efficient practices?"
        ];

        // Dynamically generate questions and sliders
        const questionsContainer = document.getElementById("questions-container");

        questions.forEach((question, index) => {
            const div = document.createElement("div");
            div.classList.add("question");

            const label = document.createElement("label");
            label.textContent = `Question ${index + 1}: ${question}`;
            div.appendChild(label);

            const sliderContainer = document.createElement("div");
            sliderContainer.classList.add("slider-container");

            const sliderLabel = document.createElement("span");
            sliderLabel.classList.add("slider-label");
            sliderLabel.textContent = "Score: ";

            const slider = document.createElement("input");
            slider.type = "range";
            slider.min = 0;
            slider.max = 5;
            slider.value = 0;
            slider.name = `q${index}`;
            slider.classList.add("score");

            const scoreDisplay = document.createElement("span");
            scoreDisplay.textContent = slider.value;

            slider.addEventListener("input", () => {
                scoreDisplay.textContent = slider.value;
            });

            sliderContainer.appendChild(sliderLabel);
            sliderContainer.appendChild(slider);
            sliderContainer.appendChild(scoreDisplay);

            div.appendChild(sliderContainer);
            questionsContainer.appendChild(div);
        });

        function calculateScore() {
            let totalScore = 0;

            // Loop through each slider and get the selected score
            for (let i = 0; i < questions.length; i++) {
                const slider = document.querySelector(`input[name="q${i}"]`);
                totalScore += parseInt(slider.value);
            }

            // Display the result
            document.getElementById("total-score").textContent = totalScore;
            const level = getSustainabilityLevel(totalScore);
            document.getElementById("level").textContent = level;
            document.getElementById("result").style.display = "block";
        }

        function getSustainabilityLevel(score) {
            if (score <= 10) {
                return "Level: Beginner - Macha! Time to kickstart your sustainability journey. You've got this!";
            } else if (score <= 20) {
                return "Level: Emerging - You're making progress, Good Job Charlie! Keep up the effort!";
            } else if (score <= 30) {
                return "Level: Proficient - Look at you, Rockstar! You're adopting sustainable practices like a pro!";
            } else {
                return "Level: Champion - Boom! You're a sustainability legend. The planet salutes you!";
            }
        }

        function rerun() {
            // Reset sliders and results
            for (let i = 0; i < questions.length; i++) {
                const slider = document.querySelector(`input[name="q${i}"]`);
                slider.value = 0;
                slider.nextElementSibling.textContent = 0; // Reset displayed score
            }
            document.getElementById("result").style.display = "none";
        }
    </script>
</body>
</html>
