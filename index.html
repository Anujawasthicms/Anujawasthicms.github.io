<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sustainability Meter</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .question-container { margin-bottom: 20px; }
        .question { margin-bottom: 10px; }
        .slider { width: 100%; }
        .button { background-color: green; color: white; padding: 10px 20px; border: none; cursor: pointer; }
        .button:hover { background-color: darkgreen; }
        .level { font-weight: bold; }
    </style>
</head>
<body>

    <h1>Your Sustainability Meter</h1>
    <p>This tool helps you assess your individual contribution to sustainable habits through a self-scoring system.</p>

    <h3>Score Scale: 0 = 0% adoption, 5 = 100% adoption of sustainable practice</h3>

    <div id="questions-container">
        <!-- Questions will be injected here by JavaScript -->
    </div>

    <br>
    <button class="button" onclick="calculateScore()">Calculate Score</button>

    <div id="result" style="display:none;">
        <h2>Your Sustainability Score: <span id="total-score"></span>/35</h2>
        <p id="level"></p>
    </div>

    <br>
    <button class="button" onclick="rerunForm()">Rerun</button>

    <script>
        const questions = [
            "How often do you use sustainable transportation?",
            "How often do you reduce meat and eat sustainably?",
            "How often do you use reusable materials?",
            "How often do you adopt sustainable consumption habits?",
            "How often do you conserve water?",
            "How often do you practice proper waste management?",
            "How often do you use energy-efficient practices?"
        ];

        // Dynamically generate questions and options (sliders)
        const questionsContainer = document.getElementById("questions-container");

        questions.forEach((question, index) => {
            const div = document.createElement("div");
            div.classList.add("question-container");

            // Create the question label
            const label = document.createElement("label");
            label.textContent = `Question ${index + 1}: ${question}`;
            div.appendChild(label);

            // Create a new div for the slider
            const sliderDiv = document.createElement("div");

            // Create the slider (range input)
            const slider = document.createElement("input");
            slider.type = "range";
            slider.min = 0;
            slider.max = 5;
            slider.value = 0; // Default value
            slider.classList.add("slider");
            slider.id = `slider-${index}`;
            sliderDiv.appendChild(slider);

            // Add a span to show the current value of the slider
            const span = document.createElement("span");
            span.id = `value-${index}`;
            span.textContent = slider.value; // Initial value
            sliderDiv.appendChild(span);

            // Update the value display when the slider is changed
            slider.addEventListener("input", function() {
                span.textContent = slider.value;
            });

            // Append the slider div after the question
            div.appendChild(sliderDiv);

            // Append the complete question container to the main container
            questionsContainer.appendChild(div);
        });

        function calculateScore() {
            let totalScore = 0;

            // Loop through each question and get the selected score (slider value)
            for (let i = 0; i < questions.length; i++) {
                const slider = document.getElementById(`slider-${i}`);
                totalScore += parseInt(slider.value);
            }

            // Display the result
            document.getElementById("total-score").textContent = totalScore;
            const level = getSustainabilityLevel(totalScore);
            document.getElementById("level").textContent = level;
            document.getElementById("result").style.display = "block";
        }

        function rerunForm() {
            // Reset all sliders to 0
            const allSliders = document.querySelectorAll("input[type='range']");
            allSliders.forEach(slider => slider.value = 0);

            // Reset all value displays
            const allSpans = document.querySelectorAll("span");
            allSpans.forEach(span => span.textContent = "0");

            // Hide the result section
            document.getElementById("result").style.display = "none";
        }

        function getSustainabilityLevel(score) {
            if (score <= 10) {
                return "Level: Beginner - Macha! Time to kickstart your sustainability journey. You've got this!";
            } else if (score <= 20) {
                return "Level: Emerging - You're making progress, Good Job Charlie! Keep up the effort!";
            } else if (score <= 30) {
                return "Level: Proficient - Look at you, Rockstar! You're adopting sustainable practices like a pro!";
            } else {
                return "Level: Champion - Boom! You're a sustainability legend. They should call you in G-summit!";
            }
        }
    </script>
</body>
</html>
