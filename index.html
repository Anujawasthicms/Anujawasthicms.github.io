<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sustainability Meter</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .question-container {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
        }
        .question {
            margin-bottom: 10px;
        }
        .score {
            margin-left: 10px;
        }
        .button { background-color: green; color: white; padding: 10px 20px; border: none; cursor: pointer; }
        .button:hover { background-color: darkgreen; }
        .level { font-weight: bold; }
        .reset-button { background-color: gray; margin-top: 10px; }
        .reset-button:hover { background-color: darkgray; }
    </style>
</head>
<body>

    <h1>Your Sustainability Meter</h1>
    <p>This tool helps you assess your individual contribution to sustainable habits through a self-scoring system.</p>

    <h3>Score Scale: 0 = 0% adoption, 5 = 100% adoption of sustainable practice</h3>

    <div id="questions-container">
        <!-- Questions will be injected here by JavaScript -->
    </div>

    <br>
    <button class="button" onclick="calculateScore()">Calculate Score</button>

    <div id="result" style="display:none;">
        <h2>Your Sustainability Score: <span id="total-score"></span>/35</h2>
        <p id="level"></p>
        <button class="reset-button" onclick="resetForm()">Rerun</button>
    </div>

    <script>
        const questions = [
            "How often do you use sustainable transportation?",
            "How often do you reduce meat and eat sustainably?",
            "How often do you use reusable materials?",
            "How often do you adopt sustainable consumption habits?",
            "How often do you conserve water?",
            "How often do you practice proper waste management?",
            "How often do you use energy-efficient practices?"
        ];

        // Dynamically generate questions and options
        const questionsContainer = document.getElementById("questions-container");

        questions.forEach((question, index) => {
            const container = document.createElement("div");
            container.classList.add("question-container");

            // Create question label
            const label = document.createElement("label");
            label.classList.add("question");
            label.textContent = question;
            container.appendChild(label);

            // Create radio buttons for score (0 to 5)
            const radioButtonsContainer = document.createElement("div");

            for (let i = 0; i <= 5; i++) {
                const radioButton = document.createElement("input");
                radioButton.type = "radio";
                radioButton.name = `q${index}`;
                radioButton.value = i;
                radioButton.classList.add("score");
                radioButtonsContainer.appendChild(radioButton);
                radioButtonsContainer.appendChild(document.createTextNode(i));
            }

            container.appendChild(radioButtonsContainer);
            questionsContainer.appendChild(container);
        });

        function calculateScore() {
            let totalScore = 0;
            let validResponses = 0;

            // Loop through each question and get the selected score
            for (let i = 0; i < questions.length; i++) {
                const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                if (selectedOption) {
                    totalScore += parseInt(selectedOption.value);
                    validResponses++;
                }
            }

            // If there are not enough responses, show an error message
            if (validResponses < questions.length) {
                alert("Please answer all questions before submitting.");
                return;
            }

            // Display the result
            document.getElementById("total-score").textContent = totalScore;
            const level = getSustainabilityLevel(totalScore);
            document.getElementById("level").textContent = level;
            document.getElementById("result").style.display = "block";
        }

        function getSustainabilityLevel(score) {
            if (score <= 10) {
                return "Level: Beginner - Start building sustainable habits.";
            } else if (score <= 20) {
                return "Level: Emerging - You're making progress!";
            } else if (score <= 30) {
                return "Level: Proficient - Great adoption of sustainable practices!";
            } else {
                return "Level: Champion - You're a sustainability role model!";
            }
        }

        function resetForm() {
            // Reset radio buttons
            const radioButtons = document.querySelectorAll("input[type='radio']");
            radioButtons.forEach(button => {
                button.checked = false;
            });

            // Hide the result and show the questions container again
            document.getElementById("result").style.display = "none";
        }
    </script>
</body>
</html>
